机器人优化相关.只要一进来就是连接状态,不需要点击登陆.(为了,以后脚本可以一键登陆)

```C++
class CAuto_AIDlg : public CBaseRoom //界面类

```



这是初始状态下

```C++
void CAuto_AIDlg::OnBnClickedButtonLogin()
{
    // TODO: 在此添加控件通知处理程序代码
	GLOBALDATA->bLoginEnable = true;
    OnStartRobot();
}


void CAuto_AIDlg::OnBnClickedButtonCancel()
{
    // TODO: 在此添加控件通知处理程序代码
	GLOBALDATA->bLoginEnable = false;
    OnStopRobot();
}
```



下面的是点击登陆事件

```C++
void	CAuto_AIDlg::OnStartRobot()
{
    InitUI(false); //切换按钮能否点击事件
    MSERVER_LOG_INFO("StartRobot");  //宏函数(写日志的)
    ((CButton*)GetDlgItem(IDC_BUTTON_LOGIN))->EnableWindow(FALSE);
    ((CButton*)GetDlgItem(IDC_BUTTON_CANCEL))->EnableWindow(TRUE);
    GLOBALDATA->bConnectToWitchServer = 0;// 0-未请求全参数配置,1-已请求全局参数配置

    m_ShowBeginNo.Format("%s%d", GLOBALDATA->CurDynamicConfig.strRobotPreName, GLOBALDATA->CurDynamicConfig.nBeginSequenceNo);
	
	m_ShowEndNo.Format("%s%d", GLOBALDATA->CurDynamicConfig.strRobotPreName, GLOBALDATA->CurDynamicConfig.nBeginSequenceNo + GLOBALDATA->CurDynamicConfig.nLogonCount);

    ((CEdit*)GetDlgItem(IDC_EDIT_CHECKBEGINNO))->SetWindowText(m_ShowBeginNo);
    ((CEdit*)GetDlgItem(IDC_EDIT_CHECKENDNO))->SetWindowText(m_ShowEndNo);

    OnConnectToCenterServer();
    SetTimer(TIMER_CHECK_UNCONNECT_ACCOUNT, 5000, NULL);
}
```

