```c++
#define PRODUCT_PAY_TYPE_NONE		-1	//无类型
#define PRODUCT_PAY_TYPE_WECHAT		0	//微信支付
#define PRODUCT_PAY_TYPE_ALIPAY		1	//支付宝支付
#define PRODUCT_PAY_TYPE_ZHIFU   	2	//智付
#define PRODUCT_PAY_TYPE_JUBAOYUN   3	//聚宝云
#define PRODUCT_PAY_TYPE_YINLIAN	4	//银联支付
#define PRODUCT_PAY_TYPE_IAP   		5	//苹果内购
```







```c++

	//////////////////////////添加所需要的支付方式，不用的请注释掉/////////////////////

	//////////////////////////////微信支付////////////////////////////////////////////
	auto weixin = Button::create("platform/gameStore/res/weixin.png");
	weixin->setTag(PRODUCT_PAY_TYPE_WECHAT);
	weixin->addClickEventListener(CC_CALLBACK_1(GameStoreLayer::payTypeClickCallBack, this));
	listView_payType->pushBackCustomItem(weixin);

	//////////////////////////////支付宝////////////////////////////////////////////
	auto zhifubao = Button::create("platform/gameStore/res/zhfb.png");
	zhifubao->setTag(PRODUCT_PAY_TYPE_ALIPAY);
	zhifubao->addClickEventListener(CC_CALLBACK_1(GameStoreLayer::payTypeClickCallBack, this));
	listView_payType->pushBackCustomItem(zhifubao);

	/*
	//////////////////////////////智付////////////////////////////////////////////
	auto zhifu = Button::create("platform/gameStore/res/zhifu.png");
	zhifu->setTag(PRODUCT_PAY_TYPE_ZHIFU);
	zhifu->addClickEventListener(CC_CALLBACK_1(GameStoreLayer::payTypeClickCallBack, this));
	listView_payType->pushBackCustomItem(zhifu);

	//////////////////////////////聚宝云////////////////////////////////////////////
	auto jubaoyun = Button::create("platform/gameStore/res/juyunbao.png");
	jubaoyun->setTag(PRODUCT_PAY_TYPE_JUBAOYUN);
	jubaoyun->addClickEventListener(CC_CALLBACK_1(GameStoreLayer::payTypeClickCallBack, this));
	listView_payType->pushBackCustomItem(jubaoyun);

	//////////////////////////////银联支付////////////////////////////////////////////
	auto yinlian = Button::create("platform/gameStore/res/yinlianzhifu.png");
	yinlian->setTag(PRODUCT_PAY_TYPE_YINLIAN);
	yinlian->addClickEventListener(CC_CALLBACK_1(GameStoreLayer::payTypeClickCallBack, this));
	listView_payType->pushBackCustomItem(yinlian);
	*/
```



















https://pay.weixin.qq.com/wiki/doc/api/external/index.html   **微信支付接口官方文档**





```c++
GameStoreLayer::GameStoreLayer() 
	:_product(nullptr)
	,onCloseCallBack (nullptr)
{
	_payType.push_back(PRODUCT_PAY_TYPE_WECHAT);
	_payType.push_back(PRODUCT_PAY_TYPE_ALIPAY);
	_payType.push_back(PRODUCT_PAY_TYPE_ZHIFU);
	//_payType.push_back(PRODUCT_PAY_TYPE_JUBAOYUN);
	//_payType.push_back(PRODUCT_PAY_TYPE_YINLIAN);
	//_payType.push_back(PRODUCT_PAY_TYPE_IAP);
}
//前端界面按钮的显示

```







