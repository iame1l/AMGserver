## 用户注册相关

```C++
DTK_GP_REGISTER,								// 用户注册
```







```C++
//注册按钮回调
void GameMenu::openRegisterLayer()
{
	auto winSize = Director::getInstance()->getWinSize();
	RegisterLayer* registerLayer = RegisterLayer::create();
	registerLayer->onRegisterCallBack = [this](const std::string& name, const std::string& psd)
	{
		_userName = name;
		_userPsd = psd;

		//注册
		_gameRegist->start();
		_gameRegist->requestRegist(ThirdLoginType::Account, _userName, MD5_CTX::MD5String(_userPsd));
		LoadingLayer::createLoading(Director::getInstance()->getRunningScene(), Word_Register, 25);
	};

	registerLayer->onCloseCallBack = [this]()
	{		
	};

	registerLayer->open(ACTION_TYPE_LAYER::SCALE, this, Vec2::ZERO, 3, CHILD_TAG_REGISTER);
}
```





```C++
	void HNPlatformRegist::I_P_M_Regist(MSG_GP_S_Register* registerStruct, UINT ErrorCode)
	{	
		_name = std::string(registerStruct->szName);
		_pwd = std::string(registerStruct->szPswd);

		std::string msg;

		switch (ErrorCode)
		{
		case eSUCCESS:
			//Eil @
			msg = "Register was successful.   ";			
			break;
		case eFAILE:
			msg = StringUtils::format(GBKToUtf8("注册失败了.(%u)"), ErrorCode);
			break;
		case eEXIST:
			msg = StringUtils::format(GBKToUtf8("用户名已经存在.(%u)"), ErrorCode);
			break;
		case eSENSITIVE:
			msg = StringUtils::format(GBKToUtf8("含有敏感词汇.(%u)"), ErrorCode);
			break;
		case eALLNUMLIMIT:
			msg = StringUtils::format(GBKToUtf8("超过注册限额(最多五个).(%u)"), ErrorCode);
			break;
		case eDAYNUMLIMIT:
			msg = StringUtils::format(GBKToUtf8("超过登记日期限制.(%u)"), ErrorCode);
			break;
		default:
			msg = StringUtils::format(GBKToUtf8("注册失败了.(%u)"), ErrorCode);
			break;
		}

		_callback->onPlatformRegistCallback(ErrorCode == eSUCCESS, _registType, msg, _name, _pwd);
	}
```

